<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="generator" content="Asciidoctor 0.1.4"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Undercloud Installation Lab</title><style>@import url(http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.0/css/font-awesome.css);
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #003b6b; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #00579e; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Arial, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Arial, sans-serif; font-weight: normal; font-style: normal; color: #7b2d00; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #ff6b15; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; color: #003426; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Arial, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #e15200; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #e15200; }

blockquote, blockquote p { line-height: 1.6; color: #333333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Print styles.  Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/ Credit to Paul Irish and HTML5 Boilerplate (html5boilerplate.com)
*/
.print-only { display: none !important; }

@media print { * { background: transparent !important; color: #000 !important; /* Black prints faster: h5bp.com/s */ box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; /* h5bp.com/t */ }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
/* Change -webkit-linear-gradient colors to  #a70000 and remove gradient */
table thead, table tfoot { background: -webkit-linear-gradient(top, #a70000, #a70000); font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: white; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #edf2f2; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; padding: 3px 2px 1px 2px; white-space: nowrap; background-color: #eeeeee; border: 1px solid #dddddd; -webkit-border-radius: 0; border-radius: 0; text-shadow: none; }

pre, pre > code { line-height: 1.6; color: black; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

kbd.keyseq { color: #333333; }

kbd:not(.keyseq) { display: inline-block; color: black; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

kbd kbd:first-child { margin-left: 0; }

kbd kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: black; }

b.button:before { content: '[ '; }

b.button:after { content: ' ]'; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#header { margin-bottom: 2.5em; }
#header > h1 { color: #7b2d00; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #333333; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }

#toctitle { color: #003b6b; }

@media only screen and (min-width: 768px) { body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: .90em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; border-width: 0; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }

#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

.sect1 { padding-bottom: 1.25em; }

.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #7b2d00; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #622400; }

.imageblock, .literalblock, .listingblock, .mathblock, .verseblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }

.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #333333; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }

.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #aaaaaa; box-shadow: 0 1px 8px #aaaaaa; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #003b6b; margin-top: 0; line-height: 1.6; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre:not([class]), .listingblock pre:not([class]) { background: #eeeeee; }
.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border-width: 1px; border-style: dashed; border-color: #666666; -webkit-border-radius: 0; border-radius: 0; padding: 1.25em 1.5625em 1.125em 1.5625em; word-wrap: break-word; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock pre > code, .literalblock pre[class] > code, .listingblock pre > code, .listingblock pre[class] > code { display: block; }
@media only screen { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.72em; } }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.81em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.9em; } }

.listingblock pre.highlight { padding: 0; }
.listingblock pre.highlight > code { padding: 1.25em 1.5625em 1.125em 1.5625em; }

.listingblock > .content { position: relative; }

.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }

.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.sass:before { content: "sass"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }

table.pyhltable { border: 0; margin-bottom: 0; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }

.quoteblock { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 0.75em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: 0.8125em; color: #e15200; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }

table thead th, table tfoot th { font-weight: bold; }

table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 0; border-radius: 0; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }

table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }

table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }

table.tableblock td .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }

th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }

th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }

th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }

th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }

th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }

tbody tr th { display: table-cell; line-height: 1.4; background: -webkit-linear-gradient(top, #add386, #90b66a); }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: white; font-weight: bold; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.375em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .8em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.qanda > ol > li > p > em:only-child { color: #004985; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }

.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #00579e; color: #004176; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum { display: inline-block; color: white !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #dddddd; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }</style><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/3.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/sunburst.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script><script>hljs.initHighlightingOnLoad()</script></head><body class="article toc2 toc-left"><div id="header"><div id="toc" class="toc2"><div id="toctitle">Table of Contents</div><ul class="sectlevel1">
<li><a href="#_undercloud_installation_lab">Undercloud Installation Lab</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_start_undercloud_vm">1.1. Start Undercloud VM</a></li>
<li><a href="#_install_undercloud_packages">1.2. Install Undercloud Packages</a></li>
</ul>
</li>
<li><a href="#_test_network_connectivity_and_settings">1. Test Network Connectivity and Settings</a></li>
<li><a href="#_create_non_root_installation_user">2. Create Non-Root Installation User</a></li>
<li><a href="#_get_access_to_software_channels">3. Get Access to Software Channels</a></li>
<li><a href="#_install_software_packages">4. Install Software Packages</a></li>
<li><a href="#_configure_undercloud_installation">5. Configure Undercloud Installation</a></li>
<li><a href="#_install_undercloud_and_verify_installation">6. Install Undercloud and Verify Installation</a></li>
<li><a href="#_review_network_configuration_changes">7. Review Network Configuration Changes</a></li>
<li><a href="#_review_undercloud_neutron_subnet">8. Review Undercloud Neutron Subnet</a></li>
</ul></div></div><div id="content"><div class="sect1"><h2 id="_undercloud_installation_lab">Undercloud Installation Lab</h2><div class="sectionbody"><div class="ulist"><div class="title">Goals</div><ul><li><p>Test network connectivity and settings</p></li><li><p>Create a non-root installation user</p></li><li><p>Set a hostname for the undercloud</p></li><li><p>Verify software channels</p></li><li><p>Install software packages</p></li><li><p>Configure the undercloud</p></li><li><p>Install the undercloud</p></li><li><p>Verify the undercloud installation</p></li><li><p>Review the undercloud&#8217;s Neutron subnet</p></li></ul></div>
<div class="sect2"><h3 id="_start_undercloud_vm">1.1. Start Undercloud VM</h3><div class="olist arabic"><ol class="arabic"><li><p>Connect to the hypervisor node and start the VM created during the lab provisioning:</p><div class="listingblock"><div class="title">[host]</div><div class="content"><pre class="nowrap">[root@hypervisor ~]# virsh start undercloud</pre></div></div></li></ol></div></div>
<div class="sect2"><h3 id="_install_undercloud_packages">1.2. Install Undercloud Packages</h3><div class="admonitionblock note"><table><tr><td class="icon"><i class="icon-note" title="Note"></i></td><td class="content">The password for all accounts is <code>r3dh4t1!</code>.</td></tr></table></div>
<div class="sect3"><h4 id="_connect_to_undercloud_node">1.2.1. Connect to Undercloud Node</h4><div class="paragraph"><p>In this section, you log in to the assigned system, distribute your SSH key to the undercloud node, and verify that you can connect to the undercloud node.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Log in to the assigned system using the <code>root</code> account.</p></li><li><p>Generate an SSH key pair:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">
[root@hypervisor ~]# ssh-keygen</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="text language-text">Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /root/.ssh/id_rsa.
Your public key has been saved in /root/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:9nT+aeaMkOWEHxbBg87BEmQD39Mv7w7UBZEjK3sCq00 root@pool03-iad.lab.opentlc.com
The key's randomart image is:
+---[RSA 2048]----+
|      .o=o o. oo |
|       o.o+.+.o. |
|        .+o.o+ ..|
|        . +o.+ . |
|        SoooO o  |
|       .Eoo@.+   |
|       +  +o= .  |
|      . .  . *o. |
|            .=B  |
+----[SHA256]-----+
</code></pre></div></div></li><li><p>Distribute the generated SSH public key to the <code>undercloud</code> node:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@bastion ~]$ ssh-copy-id root@undercloud</code></pre></div></div>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td>The <code>root</code> account on the <code>undercloud</code> node has the password <code>r3dh4t1!</code>.</td></tr></table></div></li><li><p>Log in to the <code>undercloud</code> node as <code>root</code>:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@bastion ~]$ ssh root@undercloud.example.com</code></pre></div></div>
<div class="ulist"><ul><li><p>The <code>root</code> account on the <code>undercloud</code> node has the password <code>r3dh4t1!</code>.</p></li></ul></div></li></ol></div></div></div></div></div>
<div class="sect1"><h2 id="_test_network_connectivity_and_settings">1. Test Network Connectivity and Settings</h2><div class="sectionbody"><div class="paragraph"><p>In this section, you verify the networking details of the undercloud node.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Examine the undercloud node&#8217;s hostname:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# hostnamectl --static status</code></pre></div></div>
<div class="listingblock"><div class="title">Expected Output</div><div class="content"><pre class="highlight"><code class="text language-text">undercloud.example.com</code></pre></div></div></li><li><p>Examine the network interfaces and IP addresses:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# ip a</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="text language-text">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 52:54:00:53:30:cd brd ff:ff:ff:ff:ff:ff
3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 52:54:00:8f:1f:18 brd ff:ff:ff:ff:ff:ff
    inet 192.168.0.253/24 brd 192.168.0.255 scope global noprefixroute eth1
       valid_lft forever preferred_lft forever
    inet6 fe80::c004:30e9:ce12:d91a/64 scope link noprefixroute
       valid_lft forever preferred_lft forever</code></pre></div></div></li><li><p>Verify the name resolution and Internet access:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# ping -c1 www.redhat.com</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="text language-text">PING e3396.dscx.akamaiedge.net (23.55.5.42) 56(84) bytes of data.
64 bytes from a23-55-5-42.deploy.static.akamaitechnologies.com (23.55.5.42): icmp_seq=1 ttl=59 time=1.88 ms

--- e3396.dscx.akamaiedge.net ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 1.881/1.881/1.881/0.000 ms</code></pre></div></div></li><li><p>Confirm that you do not see any errors when running the <code>ping</code> command.</p><div class="ulist"><ul><li><p>The IP address may be different, but expect an affirmative response.</p></li><li><p>On the undercloud node, the <code>eth0</code> interface is connected to the provisioning network.</p></li></ul></div></li></ol></div></div></div>
<div class="sect1"><h2 id="_create_non_root_installation_user">2. Create Non-Root Installation User</h2><div class="sectionbody"><div class="paragraph"><p>In this section, you create a non-root user, which is required by Red Hat OpenStack Platform director&#8217;s installation process to execute commands.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Create a user on the undercloud node called <code>stack</code>:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# useradd stack</code></pre></div></div></li><li><p>Configure SSH authentication for the <code>stack</code> user using the <code>root</code> user&#8217;s <code>authorized_keys</code> file as a template:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# mkdir /home/stack/.ssh
[root@undercloud ~]# cp /root/.ssh/authorized_keys /home/stack/.ssh/
[root@undercloud ~]# chown -R stack:stack /home/stack/.ssh</code></pre></div></div></li><li><p>Create a <code>sudo</code> rule allowing the <code>stack</code> user to run any command as <code>root</code> without requiring a password:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# echo 'stack ALL=(root) NOPASSWD:ALL' | tee -a /etc/sudoers.d/stack</code></pre></div></div>
<div class="listingblock"><div class="title">Expected Output</div><div class="content"><pre class="highlight"><code class="text language-text">stack ALL=(root) NOPASSWD:ALL</code></pre></div></div></li><li><p>Set the correct permissions on the <code>stack</code> user&#8217;s <code>sudo</code> rule file:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# chmod 0440 /etc/sudoers.d/stack</code></pre></div></div></li><li><p>Log out from the undercloud node:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# exit</code></pre></div></div></li><li><p>Connect to the undercloud node as the <code>stack</code> user:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@bastion ~]$ ssh stack@undercloud.example.com</code></pre></div></div></li><li><p>Verify that the <code>stack</code> user can invoke the <code>sudo</code> command:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[stack@undercloud ~]$ sudo -i</code></pre></div></div>
<div class="listingblock"><div class="title">Expected Output</div><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]#</code></pre></div></div></li></ol></div></div></div>
<div class="sect1"><h2 id="_get_access_to_software_channels">3. Get Access to Software Channels</h2><div class="sectionbody"><div class="paragraph"><p>The lab environment uses local repositories and container registries. In this section, you verify access to the required channels and configure CA trust to the classroom certificate used by the container registry.</p></div>
<div class="paragraph"><p>In contrast to the lab environment, a production environment uses Red Hat Subscription Management to register systems with the appropriate repositories and enable the software channels needed for the installation. Consult the Red Hat documentation for more information about <a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/director_installation_and_usage/index#preparing-the-undercloud" target="_blank">Preparing the undercloud</a>.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>List the preconfigured Red Hat software channels:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# yum repolist</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="text language-text">repo id                                                                  repo name
ansible-2.9-for-rhel-8-x86_64-rpms                                       ansible-2.9-for-rhel-8-x86_64-rpms
fast-datapath-for-rhel-8-x86_64-rpms                                     fast-datapath-for-rhel-8-x86_64-rpms
openstack-16.1-for-rhel-8-x86_64-rpms                                    openstack-16.1-for-rhel-8-x86_64-rpms
rhceph-4-tools-for-rhel-8-x86_64-rpms                                    rhceph-4-tools-for-rhel-8-x86_64-rpms
rhel-8-for-x86_64-appstream-eus-rpms                                     rhel-8-for-x86_64-appstream-eus-rpms
rhel-8-for-x86_64-baseos-eus-rpms                                        rhel-8-for-x86_64-baseos-eus-rpms
rhel-8-for-x86_64-highavailability-eus-rpms                              rhel-8-for-x86_64-highavailability-eus-rpms</code></pre></div></div>
<div class="admonitionblock warning"><table><tr><td class="icon"><i class="icon-warning" title="Warning"></i></td><td class="content">Enable only the repositories listed above. Additional repositories can cause package and software conflicts.</td></tr></table></div></li><li><p>Update your system to make sure that you have the latest base system packages:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# yum -y update</code></pre></div></div></li><li><p>Download the classroom CA certificate:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# curl -o /etc/pki/ca-trust/source/anchors/classroom-ca.pem http://classroom.example.com/ca.crt</code></pre></div></div></li><li><p>Extract the downloaded certificate:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# update-ca-trust extract</code></pre></div></div></li><li><p>Reboot the <code>undercloud</code> node:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[root@undercloud ~]# reboot</code></pre></div></div></li></ol></div></div></div>
<div class="sect1"><h2 id="_install_software_packages">4. Install Software Packages</h2><div class="sectionbody"><div class="olist arabic"><ol class="arabic"><li><p>Install the required command line tools for the director&#8217;s installation and configuration:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[stack@undercloud ~]# sudo yum -y install python3-tripleoclient</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="text language-text">Last metadata expiration check: 0:05:28 ago on Mon 24 Feb 2020 12:07:55 PM EST.
Dependencies resolved.
===================================================================================================================================================================================================================
 Package                                                 Architecture             Version                                                             Repository                                              Size
===================================================================================================================================================================================================================
Installing:
 python3-tripleoclient                                   noarch                   12.3.2-0.20200130192329.78ac810.el8ost                              openstack-16-for-rhel-8-x86_64-rpms                    495 k
Installing dependencies:

(... Output Truncated ...)

Complete!</code></pre></div></div>
<div class="ulist"><ul><li><p>The <code>python3-tripleoclient</code> package has all of the Red Hat OpenStack Platform 16 director packages as dependencies.</p></li></ul></div></li><li><p>For future labs to use Red Hat Ceph<sup>&#174;</sup> Storage in the overcloud, install the <code>ceph-ansible</code> package:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[stack@undercloud ~]# sudo yum -y install ceph-ansible</code></pre></div></div>
<div class="admonitionblock note"><table><tr><td class="icon"><i class="icon-note" title="Note"></i></td><td class="content">This lab environment does not contain systems that can be used as Ceph Storage nodes in the overcloud.</td></tr></table></div></li></ol></div></div></div>
<div class="sect1"><h2 id="_configure_undercloud_installation">5. Configure Undercloud Installation</h2><div class="sectionbody"><div class="paragraph"><p>The OpenStack Platform director&#8217;s installation process requires certain settings to determine your network configurations. The settings are stored in the <code>undercloud.conf</code> file in the <code>stack</code> user’s home directory. Red Hat provides a sample template (<code>/usr/share/python-tripleoclient/undercloud.conf.sample</code>) to help determine the required settings and default values for your installation.</p></div>
<div class="paragraph"><p>Outside the lab environment, you copy the sample undercloud configuration template to the <code>stack</code> user’s home directory and modify it to fit the environment. However, for the sake of simplicity in this lab, you use the configuration settings shown in this section.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Log in to the undercloud node as the <code>stack</code> user.</p></li><li><p>Create the <code>undercloud.conf</code> file in the <code>/home/stack</code> directory with the following content:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[DEFAULT]
undercloud_hostname = undercloud.example.com
container_images_file = containers-prepare-parameter.yaml
local_ip = 192.0.2.1/24
undercloud_public_host = 192.0.2.2
undercloud_admin_host = 192.0.2.3
undercloud_nameservers = 192.0.2.254
subnets = ctlplane-subnet
local_subnet = ctlplane-subnet
#undercloud_service_certificate =
generate_service_certificate = true
certificate_generation_ca = local
local_interface = eth0
inspection_extras = false
undercloud_debug = false
enable_tempest = false
enable_ui = false

[auth]

[ctlplane-subnet]
cidr = 192.0.2.0/24
dhcp_start = 192.0.2.5
dhcp_end = 192.0.2.24
inspection_iprange = 192.0.2.100,192.0.2.120
gateway = 192.0.2.254</code></pre></div></div>
<div class="ulist"><ul><li><p>To accommodate the minimum hardware specification of the environment, the <code>tempest</code> and <code>ui</code> components are disabled as part of the undercloud configuration.</p><div class="admonitionblock note"><table><tr><td class="icon"><i class="icon-note" title="Note"></i></td><td class="content"><div class="ulist"><ul><li><p>This is a subset of undercloud configuration parameters modified for the lab environment. The remaining options use the default values.</p></li><li><p>The <code>CloudDomain</code> overcloud parameter must be set to the value matching <code>overcloud_domain_name</code> in this file.</p></li><li><p>For the full set of options, see <a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/director_installation_and_usage/" target="_blank">Director Installation and Usage</a>.</p></li></ul></div></td></tr></table></div></li></ul></div></li><li><p>Review the most important undercloud configuration parameters:</p><table class="tableblock frame-all grid-all" style="width:100%"><caption class="title">Undercloud Configuration Parameters Subset</caption><colgroup><col style="width:33%"><col style="width:66%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>undercloud_hostname</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Hostname for director’s undercloud node</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>container_images_file</code></p></td><td class="tableblock halign-left valign-top"><div><div class="paragraph"><p>Heat environment file with container image information. This can either be:</p></div>
<div class="ulist"><ul><li><p>Parameters for all required container images</p></li><li><p>Or the <code>ContainerImagePrepare</code> parameter to drive the required image preparation. Usually the file containing this parameter is named <code>containers-prepare-parameter.yaml</code>.</p></li></ul></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>undercloud_public_host</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Hostname or IP address defined for undercloud public API</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>undercloud_admin_host</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Hostname or IP address defined for director’s administrative API</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>undercloud_nameservers</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">DNS nameservers to be used by undercloud</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>local_ip</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">IP address for director’s provisioning NIC</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>subnets</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">List of routed network subnets for provisioning and introspection, default value only includes <code>ctlplane-subnet</code> subnet</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>local_subnet</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Local subnet to use for PXE boot and DHCP interfaces, <code>local_ip</code> address should reside in this subnet, default is <code>ctlplane-subnet</code></p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>undercloud_service_certificate</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">File name of the certificate for OpenStack SSL/TLS communication</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>generate_service_certificate</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, configure SSL service certificates</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>certificate_generation_ca</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><code>certmonger</code> nickname of CA that signs requested certificate</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>local_interface</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Chosen interface for director&#8217;s provisioning NIC</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>inspection_interface</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Bridge that director uses for node introspection</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>inspection_extras</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Defines whether to enable extra hardware collection during inspection process</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>inspection_runbench</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Defines whether to enable benchmarking during node introspection</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enable_node_discovery</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Enables auto-discovery of bare-metal nodes</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>discovery_default_driver</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Defines default driver used in auto-discovery mode</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>undercloud_debug</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Sets log level of undercloud services</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enable_tempest</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Defines whether to install Tempest validation tools</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enable_telemetry</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Defines whether to install OpenStack Telemetry services in undercloud</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enable_ui</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Defines whether to install director’s web UI</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enable_validations</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Defines whether to install tools to run validations</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>ipxe_enabled</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Defines whether to use iPXE or standard PXE</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>enable_routed_networks</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Enable support for routed control plane networks</p></td></tr></tbody></table>
<table class="tableblock frame-all grid-all" style="width:100%"><caption class="title">Subnet Parameters</caption><colgroup><col style="width:33%"><col style="width:66%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>cidr</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Network that director uses to manage overcloud instances</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>dhcp_start</code>, <code>dhcp_end</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Start and end of DHCP allocation range for overcloud nodes</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>gateway</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Gateway IP for overcloud nodes</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>inspection_iprange</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Range of IP address that director’s introspection service uses during PXE boot and provisioning process</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>masquerade</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Defines if subnet needs to be masqueraded for external access</p></td></tr></tbody></table></li></ol></div></div></div>
<div class="sect1"><h2 id="_install_undercloud_and_verify_installation">6. Install Undercloud and Verify Installation</h2><div class="sectionbody"><div class="admonitionblock tip"><table><tr><td class="icon"><i class="icon-tip" title="Tip"></i></td><td class="content">Use either the <code>tmux</code> or <code>screen</code> utility to preserve your SSH session in the event of an inadvertent disconnection.</td></tr></table></div>
<div class="admonitionblock warning"><table><tr><td class="icon"><i class="icon-warning" title="Warning"></i></td><td class="content">Make sure that you are performing the installation as the <code>stack</code> user. Otherwise, the installation&#8212;while it may possibly succeed&#8212;will not operate properly.</td></tr></table></div>
<div class="olist arabic"><ol class="arabic"><li><p>Generate the file <code>containers-prepare-parameter.yaml</code> indicating where the the images are hosted</p><div class="listingblock"><div class="content"><pre class="nowrap">[stack@undercloud ~]$ openstack tripleo container image prepare default   --local-push-destination   --output-env-file containers-prepare-parameter.yaml</pre></div></div>
<div class="listingblock"><div class="content"><pre class="nowrap"># Generated with the following on 2020-03-30T00:17:48.350862
#
#   openstack tripleo container image prepare default --local-push-destination --output-env-file containers-prepare-parameter.yaml
#

parameter_defaults:
  ContainerImagePrepare:
  - push_destination: true
    set:
      ceph_alertmanager_image: ose-prometheus-alertmanager
      ceph_alertmanager_namespace: registry.redhat.io/openshift4
      ceph_alertmanager_tag: 4.1
      ceph_grafana_image: rhceph-3-dashboard-rhel7
      ceph_grafana_namespace: registry.redhat.io/rhceph
      ceph_grafana_tag: 3
      ceph_image: rhceph-4-rhel8
      ceph_namespace: registry.redhat.io/rhceph
      ceph_node_exporter_image: ose-prometheus-node-exporter
      ceph_node_exporter_namespace: registry.redhat.io/openshift4
      ceph_node_exporter_tag: v4.1
      ceph_prometheus_image: ose-prometheus
      ceph_prometheus_namespace: registry.redhat.io/openshift4
      ceph_prometheus_tag: 4.1
      ceph_tag: latest
      name_prefix: openstack-
      name_suffix: ''
      namespace: registry.redhat.io/rhosp-rhel8
      neutron_driver: ovn
      rhel_containers: false
      tag: '16.1'
    tag_from_label: '{version}-{release}'</pre></div></div>
<div class="paragraph"><p>The default file for preparing your containers (<code>containers-prepare-parameter.yaml</code>) contains the <code>ContainerImagePrepare</code> Heat parameter. This parameter defines a list of strategies for preparing a set of images:</p></div>
<div class="listingblock"><div class="content"><pre class="nowrap">parameter_defaults:
  ContainerImagePrepare:
  - (strategy one)
  - (strategy two)
  - (strategy three)</pre></div></div>
<div class="paragraph"><p>Each strategy accepts a set of sub-parameters that define which images to use and what to do with them. The following table contains information about the sub-parameters you can use with each <code>ContainerImagePrepare</code> strategy:</p></div>
<table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:33%"><col style="width:66%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>excludes</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">List of image name substrings to exclude from a strategy.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>includes</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">List of image name substrings to include in a strategy. At least one image name must match an existing image. All <code>excludes</code> are ignored if <code>includes</code> is specified.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>modify_append_tag</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">String to append to the tag for the destination image. For example, if you pull an image with the tag <code>14.0-89</code> and set the <code>modify_append_tag</code> to <code>-hotfix</code>, the director tags the final image as <code>14.0-89-hotfix</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>modify_only_with_labels</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">A dictionary of image labels that filter the images to modify. If an image matches the labels defined, the director includes the image in the modification process.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>modify_role</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">String of ansible role names to run during upload but before pushing the image to the destination registry.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>modify_vars</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Dictionary of variables to pass to <code>modify_role</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>push_destination</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The namespace of the registry to push images during the upload process. When you specify a namespace for this parameter, all image parameters use this namespace too. If set to <code>true</code>, the <code>push_destination</code> is set to the undercloud registry namespace. It is not recommended to set this parameters to <code>false</code> in production environments. If this is set to <code>false</code> or not provided and the remote registry requires authentication, set the <code>ContainerImageRegistryLogin</code> parameter to true and provide the credentials with the <code>ContainerImageRegistryCredentials</code> parameter.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>pull_source</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The source registry from where to pull the original container images.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>set</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">A dictionary of <code>key: value</code> definitions that define where to obtain the initial images.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>tag_from_label</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Defines the label pattern to tag the resulting images. Usually sets to <code>{version}-{release}`</code>.</p></td></tr></tbody></table>
<div class="paragraph"><p>The <code>set</code> parameter accepts a set of <code>key: value</code> definitions. The following table contains information about the keys:</p></div>
<table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:33%"><col style="width:66%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Parameter</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>ceph_image</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The name of the Ceph Storage container image.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>ceph_namespace</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The namespace of the Ceph Storage container image.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>ceph_tag</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The tag of the Ceph Storage container image.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>name_prefix</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">A prefix for each OpenStack service image.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>name_suffix</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">A suffix for each OpenStack service image.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>namespace</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The namespace for each OpenStack service image.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>neutron_driver</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The driver to use to determine which OpenStack Networking (neutron) container to use. Use a null value to set to the standard <code>neutron-server</code> container. Set to <code>ovn</code> to use OVN-based containers.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>tag</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The tag that the director uses to identify the images to pull from the source registry. You usually keep this key set to the default value, which is the Red Hat OpenStack Platform version number.</p></td></tr></tbody></table>
<div class="admonitionblock note"><table><tr><td class="icon"><i class="icon-note" title="Note"></i></td><td class="content">The container images use multi-stream tags based on Red Hat OpenStack Platform version. This means there is no longer a <code>latest</code> tag.</td></tr></table></div>
<div class="paragraph"><p>If a container registry requires a username and password, you can use <code>ContainerImageRegistryCredentials</code> to include their values with the following syntax:</p></div>
<div class="listingblock"><div class="content"><pre class="nowrap">  ContainerImagePrepare:
  - push_destination: true
    set:
      namespace: registry.redhat.io/...
      ...
  ContainerImageRegistryCredentials:
    registry.redhat.io:
      my_username: my_password</pre></div></div></li><li><p>Replace public image registry address with a private image registry:</p><div class="listingblock"><div class="content"><pre class="nowrap">[stack@undercloud ~]$ sed -i "s/registry.redhat.io/classroom.example.com:5000/" containers-prepare-parameter.yaml</pre></div></div></li><li><p>Review file after modification:</p><div class="listingblock"><div class="content"><pre class="nowrap">[stack@undercloud ~]$ cat containers-prepare-parameter.yaml</pre></div></div>
<div class="listingblock"><div class="content"><pre class="nowrap"># Generated with the following on 2020-03-30T00:17:48.350862
#
#   openstack tripleo container image prepare default --local-push-destination --output-env-file containers-prepare-parameter.yaml
#

parameter_defaults:
  ContainerImagePrepare:
  - push_destination: true
    set:
      ceph_alertmanager_image: ose-prometheus-alertmanager
      ceph_alertmanager_namespace: classroom.example.com:5000/openshift4
      ceph_alertmanager_tag: 4.1
      ceph_grafana_image: rhceph-4-dashboard-rhel8
      ceph_grafana_namespace: classroom.example.com:5000/rhceph
      ceph_grafana_tag: 4
      ceph_image: rhceph-4-rhel8
      ceph_namespace: classroom.example.com:5000/rhceph
      ceph_node_exporter_image: ose-prometheus-node-exporter
      ceph_node_exporter_namespace: classroom.example.com:5000/openshift4
      ceph_node_exporter_tag: v4.1
      ceph_prometheus_image: ose-prometheus
      ceph_prometheus_namespace: classroom.example.com:5000/openshift4
      ceph_prometheus_tag: 4.1
      ceph_tag: latest
      name_prefix: openstack-
      name_suffix: ''
      namespace: classroom.example.com:5000/rhosp-rhel8
      neutron_driver: ovn
      rhel_containers: false
      tag: '16.1'
    tag_from_label: '{version}-{release}'</pre></div></div></li><li><p>Install the undercloud:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[stack@undercloud ~]$ time openstack undercloud install</code></pre></div></div>
<div class="ulist"><ul><li><p>This process generally takes about 30 minutes to complete. Warning messages are normal.</p><div class="admonitionblock caution"><table><tr><td class="icon"><i class="icon-caution" title="Caution"></i></td><td class="content">Pay close attention to the installation log. Although many entries may appear highlighted, they are generally <code>WARNING</code> messages and can be safely ignored.</td></tr></table></div></li></ul></div></li><li><p>Examine the log messages to make sure that there are no errors and that you see confirmation of the successful installation.</p></li><li><p>Review the contents of the two files that the installation process created in the <code>stack</code> user&#8217;s home directory:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[stack@undercloud ~]$ cat ~/stackrc
[stack@undercloud ~]$ cat ~/undercloud-passwords.conf</code></pre></div></div></li><li><p>Review the undercloud catalog to confirm successful installation of the undercloud:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">[stack@undercloud ~]$ source ~/stackrc
(undercloud) [stack@undercloud ~]$ openstack catalog list</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="text language-text">+------------------+-------------------------+-----------------------------------------------------------------------------+
| Name             | Type                    | Endpoints                                                                   |
+------------------+-------------------------+-----------------------------------------------------------------------------+
| placement        | placement               | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13778/placement                                |
|                  |                         | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:8778/placement                                   |
|                  |                         | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:8778/placement                                |
|                  |                         |                                                                             |
| glance           | image                   | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13292                                          |
|                  |                         | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:9292                                             |
|                  |                         | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:9292                                          |
|                  |                         |                                                                             |
| ironic-inspector | baremetal-introspection | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:5050                                          |
|                  |                         | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13050                                          |
|                  |                         | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:5050                                             |
|                  |                         |                                                                             |
| swift            | object-store            | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:8080/v1/AUTH_aaaa667b21b54919a03152a1ae14c910 |
|                  |                         | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:8080                                             |
|                  |                         | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13808/v1/AUTH_aaaa667b21b54919a03152a1ae14c910 |
|                  |                         |                                                                             |
| zaqar            | messaging               | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:8888                                             |
|                  |                         | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:8888                                          |
|                  |                         | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13888                                          |
|                  |                         |                                                                             |
| keystone         | identity                | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:35357                                            |
|                  |                         | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13000                                          |
|                  |                         | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:5000                                          |
|                  |                         |                                                                             |
| nova             | compute                 | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:8774/v2.1                                     |
|                  |                         | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13774/v2.1                                     |
|                  |                         | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:8774/v2.1                                        |
|                  |                         |                                                                             |
| ironic           | baremetal               | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:6385                                          |
|                  |                         | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:6385                                             |
|                  |                         | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13385                                          |
|                  |                         |                                                                             |
| neutron          | network                 | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:9696                                             |
|                  |                         | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13696                                          |
|                  |                         | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:9696                                          |
|                  |                         |                                                                             |
| mistral          | workflowv2              | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13989/v2                                       |
|                  |                         | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:8989/v2                                       |
|                  |                         | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:8989/v2                                          |
|                  |                         |                                                                             |
| heat             | orchestration           | regionOne                                                                   |
|                  |                         |   public: https://172.16.0.2:13004/v1/aaaa667b21b54919a03152a1ae14c910      |
|                  |                         | regionOne                                                                   |
|                  |                         |   internal: http://172.16.0.3:8004/v1/aaaa667b21b54919a03152a1ae14c910      |
|                  |                         | regionOne                                                                   |
|                  |                         |   admin: http://172.16.0.3:8004/v1/aaaa667b21b54919a03152a1ae14c910         |
|                  |                         |                                                                             |
| zaqar-websocket  | messaging-websocket     | regionOne                                                                   |
|                  |                         |   admin: ws://172.16.0.3:9000                                               |
|                  |                         | regionOne                                                                   |
|                  |                         |   public: wss://172.16.0.2:9000                                             |
|                  |                         | regionOne                                                                   |
|                  |                         |   internal: ws://172.16.0.3:9000                                            |
|                  |                         |                                                                             |
+------------------+-------------------------+-----------------------------------------------------------------------------+</code></pre></div></div>
<div class="ulist"><ul><li><p>A complete list of the undercloud API endpoints is a good indicator of a successful undercloud installation.</p><div class="admonitionblock tip"><table><tr><td class="icon"><i class="icon-tip" title="Tip"></i></td><td class="content">If there are issues with the undercloud installation, you can troubleshoot from the <code>/home/stack/install-undercloud.log</code> installation log.</td></tr></table></div></li></ul></div></li></ol></div></div></div>
<div class="sect1"><h2 id="_review_network_configuration_changes">7. Review Network Configuration Changes</h2><div class="sectionbody"><div class="paragraph"><p>In this section, you review the changes to the network configuration on the director’s undercloud host.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>Display the undercloud host&#8217;s IP addresses:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">(undercloud) [stack@undercloud ~]$ ip a</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="text language-text">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel master ovs-system state UP group default qlen 1000
    link/ether 52:54:00:42:f4:59 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::5054:ff:fe42:f459/64 scope link
       valid_lft forever preferred_lft forever
3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 52:54:00:8d:ff:d4 brd ff:ff:ff:ff:ff:ff
    inet 192.168.0.253/24 brd 192.168.0.255 scope global noprefixroute eth1
       valid_lft forever preferred_lft forever
    inet6 fe80::4656:e921:8575:a5a1/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
4: ovs-system: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN group default qlen 1000
    link/ether 4e:05:22:f6:23:67 brd ff:ff:ff:ff:ff:ff
5: br-ctlplane: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UNKNOWN group default qlen 1000
    link/ether 52:54:00:42:f4:59 brd ff:ff:ff:ff:ff:ff
    inet 192.0.2.1/24 brd 192.0.2.255 scope global br-ctlplane
       valid_lft forever preferred_lft forever
    inet 192.0.2.3/32 scope global br-ctlplane
       valid_lft forever preferred_lft forever
    inet 192.0.2.2/32 scope global br-ctlplane
       valid_lft forever preferred_lft forever
    inet6 fe80::5054:ff:fe42:f459/64 scope link
       valid_lft forever preferred_lft forever
6: br-int: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN group default qlen 1000
    link/ether 7e:bc:47:8a:45:4e brd ff:ff:ff:ff:ff:ff</code></pre></div></div></li><li><p>Examine the network routes:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">(undercloud) [stack@undercloud ~]$ ip r</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="text language-text">default via 192.168.0.1 dev eth1 proto static metric 101
192.0.2.0/24 dev br-ctlplane proto kernel scope link src 192.0.2.1
192.168.0.0/24 dev eth1 proto kernel scope link src 192.168.0.253 metric 101</code></pre></div></div></li><li><p>Examine the Open vSwitch database:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">(undercloud) [stack@undercloud ~]$ sudo ovs-vsctl show</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="text language-text">a75c2064-78cb-465b-9c59-25a91d320b2c
    Manager "ptcp:6640:127.0.0.1"
        is_connected: true
    Bridge br-int
        Controller "tcp:127.0.0.1:6633"
            is_connected: true
        fail_mode: secure
        Port "tap8e26f864-9e"
            tag: 1
            Interface "tap8e26f864-9e"
                type: internal
        Port br-int
            Interface br-int
                type: internal
        Port int-br-ctlplane
            Interface int-br-ctlplane
                type: patch
                options: {peer=phy-br-ctlplane}
    Bridge br-ctlplane
        Controller "tcp:127.0.0.1:6633"
            is_connected: true
        fail_mode: secure
        Port phy-br-ctlplane
            Interface phy-br-ctlplane
                type: patch
                options: {peer=int-br-ctlplane}
        Port "eth0"
            Interface "eth0"
        Port br-ctlplane
            Interface br-ctlplane
                type: internal
    ovs_version: "2.11.0"</code></pre></div></div>
<div class="paragraph"><p>Notice undercloud uses OVS/ML2 and not OVN</p></div></li><li><p>Examine the OpenStack network configuration parameters:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">(undercloud) [stack@undercloud ~]$ cat /etc/os-net-config/config.json | jq .</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight"><code class="json language-json">{
  "network_config": [
    {
      "addresses": [
        {
          "ip_netmask": "192.0.2.1/24"
        }
      ],
      "dns_servers": [],
      "domain": [],
      "members": [
        {
          "mtu": 1500,
          "name": "eth0",
          "primary": true,
          "type": "interface"
        }
      ],
      "name": "br-ctlplane",
      "ovs_extra": [
        "br-set-external-id br-ctlplane bridge-id br-ctlplane"
      ],
      "routes": [],
      "type": "ovs_bridge",
      "use_dhcp": false
    }
  ]
}

</code></pre></div></div></li></ol></div></div></div>
<div class="sect1"><h2 id="_review_undercloud_neutron_subnet">8. Review Undercloud Neutron Subnet</h2><div class="sectionbody"><div class="paragraph"><p>Overcloud nodes require a nameserver so that they can resolve hostnames through DNS. For a standard overcloud without network isolation, the nameserver is defined using the undercloud’s Neutron subnet. In this section, you define the nameserver for the environment.</p></div>
<div class="olist arabic"><ol class="arabic"><li><p>List the undercloud networks:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">(undercloud) [stack@undercloud ~]$ openstack network list</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="text language-text">+--------------------------------------+----------+--------------------------------------+
| ID                                   | Name     | Subnets                              |
+--------------------------------------+----------+--------------------------------------+
| dddf453b-8e61-4508-8fb1-ccff3c759296 | ctlplane | 2a0d8f8d-27d6-404a-8e48-5ecc5f8eb1ad |
+--------------------------------------+----------+--------------------------------------+</code></pre></div></div></li><li><p>List the undercloud subnets:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">(undercloud) [stack@undercloud ~]$ openstack subnet list</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="text language-text">+--------------------------------------+-----------------+--------------------------------------+---------------+
| ID                                   | Name            | Network                              | Subnet        |
+--------------------------------------+-----------------+--------------------------------------+---------------+
| 2a0d8f8d-27d6-404a-8e48-5ecc5f8eb1ad | ctlplane-subnet | dddf453b-8e61-4508-8fb1-ccff3c759296 | 172.16.0.0/24 |
+--------------------------------------+-----------------+--------------------------------------+---------------+</code></pre></div></div></li><li><p>Examine the subnet details:</p><div class="listingblock"><div class="content"><pre class="highlight"><code class="text language-text">(undercloud) [stack@undercloud ~]$ openstack subnet show ctlplane-subnet -f json</code></pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="highlight nowrap"><code class="text language-text">{
  "allocation_pools": [
    {
      "start": "172.16.0.5",
      "end": "172.16.0.24"
    }
  ],
  "cidr": "172.16.0.0/24",
  "created_at": "2020-03-30T04:44:27Z",
  "description": "",
  "dns_nameservers": [
    "172.16.0.254"
  ],
  "enable_dhcp": true,
  "gateway_ip": "172.16.0.254",
  "host_routes": [],
  "id": "2a0d8f8d-27d6-404a-8e48-5ecc5f8eb1ad",
  "ip_version": 4,
  "ipv6_address_mode": null,
  "ipv6_ra_mode": null,
  "location": {
    "cloud": "",
    "region_name": "",
    "zone": null,
    "project": {
      "id": "aaaa667b21b54919a03152a1ae14c910",
      "name": "admin",
      "domain_id": null,
      "domain_name": "Default"
    }
  },
  "name": "ctlplane-subnet",
  "network_id": "dddf453b-8e61-4508-8fb1-ccff3c759296",
  "prefix_length": null,
  "project_id": "aaaa667b21b54919a03152a1ae14c910",
  "revision_number": 0,
  "segment_id": null,
  "service_types": [],
  "subnetpool_id": null,
  "tags": [],
  "updated_at": "2020-03-30T04:44:27Z"
}</code></pre></div></div>
<div class="ulist"><ul><li><p>The <code>gateway_ip</code> field contains the IP address of a gateway available in the lab network.</p></li></ul></div></li><li><p>List the containers running on the undercloud</p><div class="listingblock"><div class="content"><pre class="nowrap">(undercloud) [stack@undercloud ~]$ sudo podman ps</pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="nowrap">CONTAINER ID  IMAGE                                                                                         COMMAND               CREATED             STATUS                 PORTS  NAMES
10b604e066cf  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-neutron-dhcp-agent:16.1-45         /usr/sbin/dnsmasq...  3 seconds ago       Up 3 seconds ago              neutron-dnsmasq-qdhcp-800cad80-0904-4ea2-b167-3975d699e2c6
e2cb2515c3ef  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-nova-compute-ironic:16.1-45        kolla_start           About a minute ago  Up About a minute ago         nova_compute
d10890c3de2b  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-ironic-inspector:16.1-48           kolla_start           About a minute ago  Up About a minute ago         ironic_inspector_dnsmasq
19f7f44db689  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-ironic-inspector:16.1-48           kolla_start           About a minute ago  Up About a minute ago         ironic_inspector
e8c758b6b0e5  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-ironic-pxe:16.1-45                 kolla_start           About a minute ago  Up About a minute ago         ironic_pxe_http
af8b19b6c039  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-ironic-pxe:16.1-45                 /bin/bash -c BIND...  About a minute ago  Up About a minute ago         ironic_pxe_tftp
211205464cbe  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-ironic-neutron-agent:16.1-48       kolla_start           About a minute ago  Up About a minute ago         ironic_neutron_agent
1c78cf0268d9  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-ironic-conductor:16.1-44           kolla_start           About a minute ago  Up About a minute ago         ironic_conductor
4e466f277528  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-mistral-api:16.1-44                kolla_start           2 minutes ago       Up 2 minutes ago              mistral_api
1b8cb546aada  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-neutron-openvswitch-agent:16.1-47  kolla_start           2 minutes ago       Up 2 minutes ago              neutron_ovs_agent
eb8dac81c856  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-neutron-l3-agent:16.1-45           kolla_start           2 minutes ago       Up 2 minutes ago              neutron_l3_agent
8cfdc9df381d  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-neutron-dhcp-agent:16.1-45         kolla_start           2 minutes ago       Up 2 minutes ago              neutron_dhcp
137d5c67f7fd  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-ironic-api:16.1-45                 kolla_start           2 minutes ago       Up 2 minutes ago              ironic_api
06cd7d75294b  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-nova-api:16.1-47                   kolla_start           2 minutes ago       Up 2 minutes ago              nova_api_cron
2c237133093a  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-swift-proxy-server:16.1-44         kolla_start           2 minutes ago       Up 2 minutes ago              swift_proxy
2be27f488268  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-nova-api:16.1-47                   kolla_start           3 minutes ago       Up 2 minutes ago              nova_api
1c6e8b040016  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-glance-api:16.1-41                 kolla_start           3 minutes ago       Up 3 minutes ago              glance_api
b159080ef16d  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-placement-api:16.1-48              kolla_start           3 minutes ago       Up 3 minutes ago              placement_api
e4b1c7fc6864  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-zaqar-wsgi:16.1-45                 kolla_start           3 minutes ago       Up 3 minutes ago              zaqar_websocket
3bebf160a63b  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-zaqar-wsgi:16.1-45                 kolla_start           3 minutes ago       Up 3 minutes ago              zaqar
1780f9080058  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-swift-object:16.1-45               kolla_start           3 minutes ago       Up 3 minutes ago              swift_rsync
25d470e6b9a4  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-swift-object:16.1-45               kolla_start           3 minutes ago       Up 3 minutes ago              swift_object_updater
14b3647d7f8b  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-swift-object:16.1-45               kolla_start           3 minutes ago       Up 3 minutes ago              swift_object_server
0e2549d2d5ef  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-swift-proxy-server:16.1-44         kolla_start           3 minutes ago       Up 3 minutes ago              swift_object_expirer
c2c288163f58  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-swift-container:16.1-45            kolla_start           3 minutes ago       Up 3 minutes ago              swift_container_updater
96f60689e7a6  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-swift-container:16.1-45            kolla_start           3 minutes ago       Up 3 minutes ago              swift_container_server
78a97ce10182  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-swift-account:16.1-44              kolla_start           3 minutes ago       Up 3 minutes ago              swift_account_server
a4e647759b51  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-swift-account:16.1-44              kolla_start           3 minutes ago       Up 3 minutes ago              swift_account_reaper
6f8a80ee0093  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-nova-scheduler:16.1-44             kolla_start           3 minutes ago       Up 3 minutes ago              nova_scheduler
f4c80d61c982  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-nova-conductor:16.1-45             kolla_start           3 minutes ago       Up 3 minutes ago              nova_conductor
a694d1a12dbd  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-neutron-server:16.1-46             kolla_start           3 minutes ago       Up 3 minutes ago              neutron_api
c7276f7cd0bb  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-mistral-executor:16.1-50           kolla_start           3 minutes ago       Up 3 minutes ago              mistral_executor
661dc182e777  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-mistral-event-engine:16.1-46       kolla_start           3 minutes ago       Up 3 minutes ago              mistral_event_engine
10686c691e3d  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-mistral-engine:16.1-45             kolla_start           3 minutes ago       Up 3 minutes ago              mistral_engine
a10c6f5003f9  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-cron:16.1-50                       kolla_start           3 minutes ago       Up 3 minutes ago              logrotate_crond
c640f4b9f82a  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-heat-engine:16.1-45                kolla_start           3 minutes ago       Up 3 minutes ago              heat_engine
53f2d3ec40e6  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-heat-api:16.1-45                   kolla_start           3 minutes ago       Up 3 minutes ago              heat_api_cron
a508dbc45d4f  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-heat-api:16.1-45                   kolla_start           3 minutes ago       Up 3 minutes ago              heat_api
22dbc5d230fa  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-keystone:16.1-44                   kolla_start           7 minutes ago       Up 7 minutes ago              keystone
1ae60a364abe  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-iscsid:16.1-49                     kolla_start           7 minutes ago       Up 7 minutes ago              iscsid
84492fbed1e2  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-mariadb:16.1-52                    kolla_start           8 minutes ago       Up 8 minutes ago              mysql
b73fe98d248f  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-rabbitmq:16.1-50                   kolla_start           9 minutes ago       Up 9 minutes ago              rabbitmq
0dde669580f0  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-haproxy:16.1-50                    kolla_start           9 minutes ago       Up 9 minutes ago              haproxy
db1deaee8472  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-memcached:16.1-50                  kolla_start           9 minutes ago       Up 9 minutes ago              memcached
cfebf2fa2ffa  undercloud.ctlplane.localdomain:8787/rhosp-rhel8/openstack-keepalived:16.1-49                 /usr/local/bin/ko...  9 minutes ago       Up 9 minutes ago              keepalived
</pre></div></div></li><li><p>Review the namespaces</p><div class="listingblock"><div class="content"><pre class="nowrap">(undercloud) [stack@undercloud ~]$ sudo ip netns</pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="nowrap">qdhcp-4d281301-cba8-44f9-8c98-969902f75a51 (id: 0)</pre></div></div>
<div class="listingblock"><div class="content"><pre class="nowrap">(undercloud) [stack@undercloud ~]$ sudo ip netns exec $(sudo ip netns | awk '{print $1}') ip a</pre></div></div>
<div class="listingblock"><div class="title">Sample Output</div><div class="content"><pre class="nowrap">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
7: tap9f853caf-d9: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UNKNOWN group default qlen 1000
    link/ether fa:16:3e:5b:3b:ac brd ff:ff:ff:ff:ff:ff
    inet 192.0.2.5/24 brd 192.0.2.255 scope global tap9f853caf-d9
       valid_lft forever preferred_lft forever
    inet6 fe80::f816:3eff:fe5b:3bac/64 scope link
       valid_lft forever preferred_lft forever</pre></div></div>
<div class="paragraph"><p>IP <code>192.0.2.5</code> is the first one from the range defined on <code>undercloud.conf</code> with keys <code>dhcp_start</code> and <code>dhcp_end</code></p></div></li></ol></div></div></div></div><div id="footer"><div id="footer-text"><br>Build Version: 1.6.7   :   Last updated 2020-09-20 04:59:02 EDT</div></div></body></html>